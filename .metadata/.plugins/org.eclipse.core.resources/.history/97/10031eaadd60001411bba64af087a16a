<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="cn.gyyx.test.xuguochun.dao.IUserDAO">
     <insert id="Insert" parameterClass="SendInfo">
      insert into wx_module_send_tb([user_id],account,weixin_type,openid,source_type,content,templet_info,send_status,msg_type,create_time,log_code)
      values (#UserId#,#Account#,#WeixinType#,#OpenId#,#SourceType#,#Content#,#TempletInfo#,#SendStatus#,#MsgType#,#CreateTime#,#LogCode#)
      <selectKey resultClass="int" type="post" property="Code">
        select @@identity as Code
      </selectKey>
    </insert>
  	<select id="GetList" resultMap="userResultMap">
       SELECT code,username,age,sex,password,mail  
       FROM xuguochun_user_tb
       <where>
			<if test="array != null">
				username in
				<foreach item="item" open="(" close=")" separator=","
					collection="array">
					#{item}
				</foreach>
			</if>
		</where>
	</select>
	<resultMap type="UserInfo" id="userResultMap">
		<result property="code" column="code" />
		<result property="username" column="username" />
		<result property="sex" column="sex" />
		<result property="password" column="password" />
		<result property="mail" column="mail" />
	</resultMap>
	
  </mapper>